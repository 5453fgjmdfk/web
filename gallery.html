<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <link rel="stylesheet" href="css/style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片画廊 - 江门市数字地图</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="江门市数字地图图片画廊，浏览所有名人图片。探索中国侨都的历史文化名人风采。">
    <meta name="keywords" content="江门,数字地图,侨乡文化,名人图片,画廊,广东旅游">
    <meta name="author" content="江门市数字地图">
    <meta property="og:title" content="图片画廊 - 江门市数字地图">
    <meta property="og:description" content="浏览江门市所有名人图片，感受侨乡文化的深厚底蕴">
    <meta property="og:type" content="website">
    <meta property="og:image" content="src/Background.jpg">
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><circle cx='16' cy='16' r='14' fill='%23165DFF'/><path d='M16 8L20 14L26 16L20 18L16 24L12 18L6 16L12 14L16 8Z' fill='white'/><circle cx='16' cy='16' r='4' fill='%23FF7D00'/></svg>" type="image/svg+xml">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 预加载关键资源 -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    
    <!-- 图片懒加载和优化脚本 -->
    <script>
        // 图片懒加载和错误处理
        document.addEventListener('DOMContentLoaded', function() {
            // 配置懒加载
            const lazyImages = [].slice.call(document.querySelectorAll('img'));
            let lazyImageObserver;
            
            if ('IntersectionObserver' in window) {
                lazyImageObserver = new IntersectionObserver(function(entries, observer) {
                    entries.forEach(function(entry) {
                        if (entry.isIntersecting) {
                            const lazyImage = entry.target;
                            
                            // 添加加载动画
                            lazyImage.classList.add('image-loading');
                            
                            // 设置加载超时处理
                            const loadTimeout = setTimeout(() => {
                                if (!lazyImage.complete) {
                                    lazyImage.classList.add('image-error');
                                    lazyImage.classList.remove('image-loading');
                                }
                            }, 10000); // 10秒超时
                            
                            // 图片加载完成处理
                            lazyImage.addEventListener('load', function() {
                                clearTimeout(loadTimeout);
                                lazyImage.classList.remove('image-loading');
                                lazyImage.classList.add('image-loaded');
                            });
                            
                            // 图片加载错误处理
                            lazyImage.addEventListener('error', function() {
                                clearTimeout(loadTimeout);
                                lazyImage.classList.remove('image-loading');
                                lazyImage.classList.add('image-error');
                                // 设置备用图片或显示占位符
                                lazyImage.alt = '图片加载失败: ' + lazyImage.alt;
                            });
                            
                            // 移除观察
                            lazyImageObserver.unobserve(lazyImage);
                        }
                    });
                });
                
                lazyImages.forEach(function(lazyImage) {
                    lazyImageObserver.observe(lazyImage);
                });
            }
            
            // 预加载关键图片
            function preloadCriticalImages() {
                const criticalImages = [
                    'img/梁启超.png',
                    'img/冯如.png',
                    'img/司徒美堂.png',
                    'img/李金发.png'
                ];
                
                criticalImages.forEach(src => {
                    const img = new Image();
                    img.src = src;
                });
            }
            
            // 延迟加载非关键图片
            function loadNonCriticalImages() {
                setTimeout(() => {
                    const nonCriticalImages = document.querySelectorAll('img:not([data-critical])');
                    nonCriticalImages.forEach(img => {
                        if (img.getAttribute('src') && !img.complete) {
                            img.src = img.getAttribute('src');
                        }
                    });
                }, 2000); // 2秒后加载非关键图片
            }
            
            preloadCriticalImages();
            loadNonCriticalImages();
        });
    </script>
    
    <!-- 配置Tailwind CSS自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36BFFA',
                        accent: '#FF7D00',
                        dark: '#1D2939',
                        light: '#F9FAFB'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .fade-in {
                animation: fadeIn 0.5s ease-in-out;
            }
            .slide-up {
                animation: slideUp 0.5s ease-out;
            }
            .scale-in {
                animation: scaleIn 0.3s ease-out;
            }
        }
        
        /* 动画定义 */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes scaleIn {
            from { transform: scale(0.95); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        /* 自定义滚动条 */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        /* 画廊样式 */
        .gallery-container {
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }
        
        .gallery-item {
            scroll-snap-align: start;
            flex: 0 0 auto;
        }
        
        .gallery-image {
            transition: transform 0.3s ease;
        }
        
        .gallery-image:hover {
            transform: scale(1.02);
        }
        
        /* 缩略图样式 */
        .thumbnail {
            transition: all 0.2s ease;
        }
        
        .thumbnail:hover {
            transform: scale(1.1);
        }
        
        .thumbnail.active {
            border: 2px solid #165DFF;
            transform: scale(1.1);
        }
    </style>
</head>

<body class="bg-light font-sans text-dark antialiased"
    style="background-image: url('src/Background.jpg'); background-size: cover; background-position: center; background-attachment: fixed;">
    <!-- 添加半透明遮罩层 -->
    <div class="absolute inset-0 bg-black/20 z-[-1]"></div>
    <header class="bg-white shadow-sm sticky top-0 z-[1000] transition-all duration-300">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-map-marker text-primary text-2xl"></i>
                <h1 class="text-xl font-bold text-primary">江门市数字地图</h1>
            </div>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="index.html" class="text-dark hover:text-primary transition-colors duration-200 font-medium">首页</a>
                <a href="all-spots.html" class="text-dark hover:text-primary transition-colors duration-200 font-medium">所有景点</a>
                <a href="1.html" class="text-dark hover:text-primary transition-colors duration-200 font-medium">历史文化</a>
                <a href="famous-people.html" class="text-dark hover:text-primary transition-colors duration-200 font-medium">名人风采</a>
                <a href="gallery.html" class="text-primary font-medium">图片画廊</a>
                <a href="micro-course.html" class="text-dark hover:text-primary transition-colors duration-200 font-medium">微课</a>
                <a href="#contact" class="text-dark hover:text-primary transition-colors duration-200 font-medium">联系我们</a>
            </nav>
            <button class="md:hidden text-dark" id="menu-toggle">
                <i class="fa fa-bars text-xl"></i>
            </button>
        </div>
        <!-- 移动端菜单 -->
        <div class="md:hidden hidden bg-white border-t" id="mobile-menu">
            <div class="container mx-auto px-4 py-2 flex flex-col space-y-3">
                <a href="index.html" class="py-2 text-dark hover:text-primary transition-colors duration-200 font-medium">首页</a>
                <a href="all-spots.html"
                    class="py-2 text-dark hover:text-primary transition-colors duration-200 font-medium">所有景点</a>
                <a href="1.html"
                    class="py-2 text-dark hover:text-primary transition-colors duration-200 font-medium">历史文化</a>
                <a href="famous-people.html"
                    class="py-2 text-dark hover:text-primary transition-colors duration-200 font-medium">名人风采</a>
                <a href="gallery.html"
                    class="py-2 text-primary font-medium">图片画廊</a>
                <a href="micro-course.html"
                    class="py-2 text-dark hover:text-primary transition-colors duration-200 font-medium">微课</a>
                <a href="#contact"
                    class="py-2 text-dark hover:text-primary transition-colors duration-200 font-medium">联系我们</a>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <!-- 页面标题和返回按钮 -->
        <section class="mb-8">
            <div class="flex items-center space-x-4 mb-6">
                <a href="index.html" class="text-primary hover:text-primary/80 transition-colors duration-200">
                    <i class="fa fa-arrow-left text-xl"></i>
                </a>
                <h2 class="text-3xl font-bold text-dark">图片画廊</h2>
            </div>
            <p class="text-gray-600 text-lg">浏览江门市所有名人图片，使用鼠标滚轮或拖动来查看所有图片。</p>
        </section>

        <!-- 主画廊区域 -->
        <section class="mb-12">
            <div class="bg-white rounded-xl shadow-lg overflow-hidden p-6">
                <div class="gallery-container flex overflow-x-auto snap-x snap-mandatory space-x-4 pb-4" id="main-gallery">
                    <!-- 图片将通过JavaScript动态生成 -->
                </div>
                
                <!-- 画廊控制按钮 -->
                <div class="flex justify-center mt-6 space-x-4">
                    <button id="prev-btn" class="bg-primary hover:bg-primary/90 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300">
                        <i class="fa fa-chevron-left"></i>
                    </button>
                    <button id="next-btn" class="bg-primary hover:bg-primary/90 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300">
                        <i class="fa fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- 缩略图导航 -->
        <section class="mb-12">
            <h3 class="text-xl font-bold text-dark mb-4">所有图片</h3>
            <div class="grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3" id="thumbnails">
                <!-- 缩略图将通过JavaScript动态生成 -->
            </div>
        </section>

        <!-- 图片信息 -->
        <section class="bg-white rounded-xl shadow-lg overflow-hidden p-6">
            <h3 class="text-xl font-bold text-dark mb-4" id="current-image-title">选择图片查看详情</h3>
            <p class="text-gray-600" id="current-image-description">点击上方的图片或缩略图查看详细信息</p>
        </section>
    </main>

    <footer class="bg-dark text-white py-12 mt-20" id="contact">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fa fa-map-marker text-primary text-2xl"></i>
                        <h3 class="text-xl font-bold">江门市数字地图</h3>
                    </div>
                    <p class="text-gray-400 mb-4">探索中国侨都的数字之旅，感受江门的历史文化魅力。</p>
                    <div class="flex space-x-4">
                        <a href="https://weixin.qq.com" class="text-gray-400 hover:text-primary transition-colors duration-200"><i
                                class="fa fa-weixin text-xl"></i></a>
                        <a href="https://weibo.com" class="text-gray-400 hover:text-primary transition-colors duration-200"><i
                                class="fa fa-weibo text-xl"></i></a>
                        <a href="https://instagram.com" class="text-gray-400 hover:text-primary transition-colors duration-200"><i
                                class="fa fa-instagram text-xl"></i></a>
                        <a href="https://youtube.com" class="text-gray-400 hover:text-primary transition-colors duration-200"><i
                                class="fa fa-youtube-play text-xl"></i></a>
                    </div>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">快速链接</h4>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-400 hover:text-white transition-colors duration-200">首页</a>
                        </li>
                        <li><a href="all-spots.html" class="text-gray-400 hover:text-white transition-colors duration-200">所有景点</a>
                        </li>
                        <li><a href="1.html" class="text-gray-400 hover:text-white transition-colors duration-200">历史文化</a>
                        </li>
                        <li><a href="famous-people.html" class="text-gray-400 hover:text-white transition-colors duration-200">名人风采</a>
                        </li>
                        <li><a href="gallery.html" class="text-gray-400 hover:text-white transition-colors duration-200">图片画廊</a>
                        </li>
                        <li><a href="#contact" class="text-gray-400 hover:text-white transition-colors duration-200">联系我们</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">联系我们</h4>
                    <ul class="space-y-3">
                        <li class="flex items-start space-x-3">
                            <i class="fa fa-map-marker text-primary mt-1"></i>
                            <span class="text-gray-400">广东省江门市蓬江区白沙大道西1号</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fa fa-phone text-primary"></i>
                            <span class="text-gray-400">0750-1234567</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fa fa-envelope text-primary"></i>
                            <span class="text-gray-400">info@jiangmen-map.com</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-10 pt-6 text-center text-gray-500">
                <p>&copy; 2023 江门市数字地图. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <script>
        // 图片数据 - 包含所有img文件夹中的图片
        const images = [
            {
                filename: '陈伯坛.jpg',
                name: '陈伯坛',
                description: '陈伯坛是清末举人，后专研中医，尤擅《伤寒论》，以六经气化学说阐释，重视阴阳理论，其观点对后学颇有启发。他在广州、香港行医期间，参与创办宏中医药专门学校，对近代岭南伤寒学发展贡献很大。'
            },
            {
                filename: '陈冠时.jpg',
                name: '陈冠时',
                description: '陈冠时是中国共产党党员，抗日英烈。1940年考入香港中国新闻学院并入党。1941年任东江抗日游击队宣传干事，香港沦陷后参加广东人民抗日游击队港九大队。1943年在掩护战友撤退时被俘牺牲，年仅21岁，后被追认为革命烈士。'
            },
            {
                filename: '陈国强.jpg',
                name: '陈国强',
                description: '陈国强是中国科学院院士，海南医学院院长。他的研究领域主要为白血病和实体肿瘤，为攻克这些疑难疾病做出了重要贡献。因其杰出的学术成就获得了国家自然科学奖二等奖等荣誉，成为医学界的佼佼者。'
            },
            {
                filename: '陈国泉.png',
                name: '陈国泉',
                description: '陈国泉是中国银行浙江省分行国际金融研究所的高级经济师。1964年毕业于浙江大学，同年8月至1981年1月从事核武器总体理论设计和试验工作，参与了原子弹和氢弹的系列项目，获得了国家自然科学奖、国家科学技术进步奖等九项荣誉。'
            },
            {
                filename: '陈梦吉.jpg',
                name: '陈梦吉',
                description: '陈梦吉是清末广东民间第一状师，被誉为"扭计祖宗"。他足智多谋，以惩恶扬善、助百姓申冤而著称，共有300余篇故事在民间广泛流传。其经典案例包括破解迷信、整治贪官、为民伸冤等，被列入省级非物质文化遗产名录。'
            },
            {
                filename: '陈荣衮.jpg',
                name: '陈荣衮',
                description: '陈荣衮是晚清举人，光绪四年（1878年）中秀才，后在广州六榕寺附近设馆教学。他是我国提倡白话文的第一人，投身教育和编写妇孺课本，创办了多所学校，被誉为"东方之辈斯塔洛齐"（瑞士著名儿童教育实践家）。知名人士如冼玉清、陈德芸、利铭泽等均受业陈门。'
            },
            {
                filename: '陈瑞祺.png',
                name: '陈瑞祺',
                description: '陈瑞祺是著名爱国华侨，慈善家。他热心公益事业，在家乡捐建学校、医院、道路等基础设施，为家乡的发展做出了重要贡献。'
            },
            {
                filename: '陈少白.jpg',
                name: '陈少白',
                description: '陈少白是中国共产党党员，革命烈士。1943年从外地回到老家金子乡，与共产党员陈立洪等一起组织农会、三抗社和武工队，发动群众参加武装起义。1946年加入中国共产党，1947年任中共金子特支组织委员。1949年在重庆渣滓洞监狱的大屠杀中牺牲。'
            },
            {
                filename: '陈吾德.jpg',
                name: '陈吾德',
                description: '陈吾德生于明嘉靖十六年（1537年），自幼聪颖好学，师从名儒唐顺之。嘉靖三十八年（1559年）中进士，授翰林院编修。在朝为官期间，廉洁自守，不阿权贵，深得同僚敬佩。曾任国子监祭酒，提倡"教学相长"，注重培养学生的品德和才能。'
            },
            {
                filename: '陈宜禧.png',
                name: '陈宜禧',
                description: '陈宜禧是著名华侨实业家，他主持修建了新宁铁路，为江门的交通发展做出了重要贡献。'
            },
            {
                filename: '邓荫南.png',
                name: '邓荫南',
                description: '邓荫南是辛亥革命元勋，孙中山先生的亲密战友。他积极参与革命活动，为推翻清朝统治做出了重要贡献。'
            },
            {
                filename: '方君壮.png',
                name: '方君壮',
                description: '方君壮是著名爱国华侨，社会活动家。他积极支持祖国的革命和建设事业，为中外文化交流做出了贡献。'
            },
            {
                filename: '冯如.png',
                name: '冯如',
                description: '冯如是中国航空先驱，被誉为"中国航空之父"。他设计并制造了中国第一架飞机，为中国航空事业的发展奠定了基础。'
            },
            {
                filename: '黄洁.png',
                name: '黄洁',
                description: '黄洁是著名爱国华侨，企业家。他热心公益事业，为家乡的经济建设和社会发展做出了重要贡献。'
            },
            {
                filename: '雷石榆.png',
                name: '雷石榆',
                description: '雷石榆是著名文学家和翻译家，他的作品在国内外都有广泛影响。'
            },
            {
                filename: '李金发.png',
                name: '李金发',
                description: '李金发是中国现代雕塑艺术的奠基人之一，他的作品具有独特的艺术风格和深刻的文化内涵。'
            },
            {
                filename: '梁启超.png',
                name: '梁启超',
                description: '梁启超是中国近代著名的思想家、政治家和学者，戊戌变法的领导人之一。他的思想和著作对中国近代化进程产生了深远影响。'
            },
            {
                filename: '司徒美堂.png',
                name: '司徒美堂',
                description: '司徒美堂是著名爱国华侨领袖，他积极支持孙中山的革命活动，为中国的民主革命事业做出了重要贡献。'
            },
            {
                filename: '伍盘照.png',
                name: '伍盘照',
                description: '伍盘照是著名华侨企业家和社会活动家，他为促进中外经济文化交流做出了积极贡献。'
            },
            {
                filename: '谢维立.png',
                name: '谢维立',
                description: '谢维立是著名爱国华侨，慈善家。他热心家乡建设，捐资兴办教育和医疗事业，为家乡的发展做出了重要贡献。'
            }
        ];

        // 当前选中的图片索引
        let currentIndex = 0;

        // 初始化画廊
        function initGallery() {
            const mainGallery = document.getElementById('main-gallery');
            const thumbnails = document.getElementById('thumbnails');
            
            if (!mainGallery || !thumbnails) return;

            // 清空容器
            mainGallery.innerHTML = '';
            thumbnails.innerHTML = '';

            // 生成主画廊图片
            images.forEach((image, index) => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item w-full md:w-3/4 lg:w-1/2 xl:w-2/5 flex-shrink-0';
                galleryItem.innerHTML = `
                    <div class="bg-gray-100 rounded-lg overflow-hidden shadow-md">
                        <img src="img/${image.filename}" alt="${image.name}" class="gallery-image w-full h-64 md:h-80 object-cover cursor-pointer" data-index="${index}">
                    </div>
                `;
                mainGallery.appendChild(galleryItem);
            });

            // 生成缩略图
            images.forEach((image, index) => {
                const thumbnail = document.createElement('div');
                thumbnail.className = 'thumbnail cursor-pointer bg-gray-100 rounded overflow-hidden shadow-sm';
                thumbnail.innerHTML = `
                    <img src="img/${image.filename}" alt="${image.name}" class="w-full h-16 object-cover" data-index="${index}">
                `;
                thumbnails.appendChild(thumbnail);
            });

            // 添加点击事件到图片和缩略图
            document.querySelectorAll('.gallery-image, .thumbnail img').forEach(item => {
                item.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    showImage(index);
                });
            });

            // 初始化第一个图片
            showImage(0);
        }

        // 显示指定索引的图片
        function showImage(index) {
            currentIndex = index;
            
            // 更新主画廊滚动位置
            const mainGallery = document.getElementById('main-gallery');
            if (mainGallery) {
                const galleryItems = mainGallery.querySelectorAll('.gallery-item');
                if (galleryItems[index]) {
                    galleryItems[index].scrollIntoView({ behavior: 'smooth', inline: 'center' });
                }
            }

            // 更新缩略图选中状态
            document.querySelectorAll('.thumbnail').forEach((thumb, i) => {
                if (i === index) {
                    thumb.classList.add('active');
                } else {
                    thumb.classList.remove('active');
                }
            });

            // 更新图片信息
            const currentImage = images[index];
            document.getElementById('current-image-title').textContent = currentImage.name;
            document.getElementById('current-image-description').textContent = currentImage.description;
        }

        // 下一张图片
        function nextImage() {
            currentIndex = (currentIndex + 1) % images.length;
            showImage(currentIndex);
        }

        // 上一张图片
        function prevImage() {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            showImage(currentIndex);
        }

        // 添加键盘导航
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight') {
                nextImage();
            } else if (e.key === 'ArrowLeft') {
                prevImage();
            }
        });

        // 添加鼠标滚轮支持
        document.getElementById('main-gallery').addEventListener('wheel', function(e) {
            e.preventDefault();
            if (e.deltaY > 0) {
                nextImage();
            } else {
                prevImage();
            }
        });

        // 页面加载完成后初始化画廊
        document.addEventListener('DOMContentLoaded', function() {
            initGallery();

            // 添加控制按钮事件
            document.getElementById('prev-btn').addEventListener('click', prevImage);
            document.getElementById('next-btn').addEventListener('click', nextImage);

            // 移动端菜单切换
            const menuToggle = document.getElementById('menu-toggle');
            if (menuToggle) {
                menuToggle.addEventListener('click', function () {
                    const mobileMenu = document.getElementById('mobile-menu');
                    if (mobileMenu) {
                        mobileMenu.classList.toggle('hidden');
                    }
                });
            }
        });
    </script>
</body>

</html>
